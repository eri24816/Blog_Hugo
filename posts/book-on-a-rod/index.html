<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Book on a Rod |
eri24816's blog</title><meta name=description content="[希望在大學的壓力下不要丟失我的初衷。<br/>那就是：我喜愛這個世界，所以想以最 high level 的角度理解世界，幫各種我喜歡的東西建立模型。例如音樂生成模型、style transfer、物理模擬。]"><meta name=author content="eri24816"><link rel=apple-touch-icon href=/apple-touch-icon.png sizes=180x180><link rel=icon href=/favicon-32x32.png sizes=32x32 type=image/png><link rel=icon href=/favicon-16x16.png sizes=16x16 type=image/png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#0c344b><link rel=icon href=/favicon.ico><link rel=stylesheet href=/dist/main.37ab3f61b95417873748.min.css><link rel=stylesheet href=/css/custom.css><link href="https://fonts.googleapis.com/css?family=Raleway" rel=stylesheet><link rel=stylesheet href=https://eri24816.github.io/styles.dc279fd0a61fc13f0a252b152bf04f164d339641553d05e1339933f0f3eed5d1.css><link rel=canonical href=https://eri24816.github.io/posts/book-on-a-rod/><meta property="og:title" content="Book on a Rod"><meta property="og:description" content="The Problem I was wondering how to quantitatively represent the capacity of an VAE’s latent variable (or a reconstruction step of a diffusion model) in bits, making it comparable to other distributions, such as the data distribution?"><meta property="og:type" content="article"><meta property="og:url" content="https://eri24816.github.io/posts/book-on-a-rod/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-11-16T00:00:00+00:00"><meta property="article:modified_time" content="2024-11-16T00:00:00+00:00"><meta itemprop=name content="Book on a Rod"><meta itemprop=description content="The Problem I was wondering how to quantitatively represent the capacity of an VAE’s latent variable (or a reconstruction step of a diffusion model) in bits, making it comparable to other distributions, such as the data distribution?"><meta itemprop=datePublished content="2024-11-16T00:00:00+00:00"><meta itemprop=dateModified content="2024-11-16T00:00:00+00:00"><meta itemprop=wordCount content="353"><meta itemprop=keywords content="InformationTheory,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Book on a Rod"><meta name=twitter:description content="The Problem I was wondering how to quantitatively represent the capacity of an VAE’s latent variable (or a reconstruction step of a diffusion model) in bits, making it comparable to other distributions, such as the data distribution?"><script src=https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js type=text/javascript></script></head><body><nav class="navbar navbar-expand-md navbar-light bg-light fixed-top shadow-sm" id=navbar-main-menu><div class=container><a class="navbar-brand font-weight-bold" href=https://eri24816.github.io/>eri24816's blog</a>
<a class="navbar-brand font-weight-bold" href=https://eri24816.github.io//categories/>Categories</a>
<a class="navbar-brand font-weight-bold" href=https://eri24816.github.io//tags/>Tags</a>
<a class="navbar-brand font-weight-bold" href=https://github.com/eri24816/eri24816.github.io>Source</a>
<a class="navbar-brand font-weight-bold" href=https://github.com/eri24816/>My github</a>
<a class="navbar-brand font-weight-bold" href=https://eri24816.github.io//posts/contact>Contact</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#main-menu aria-controls=main-menu aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=main-menu><ul class="navbar-nav ml-auto"></ul></div></div></nav><main class="content-page container pt-9 pb-5"><div class=row><div class=col><article><div class="row justify-content-center"><div class=col-lg-8><div class="meta text-muted mb-3"><p class="created text-muted text-uppercase font-weight-bold mb-1">November 16, 2024</p></div><a href=/categories/math>math ></a><h1>Book on a Rod</h1><ul class="authors list-inline"></ul></div></div><div class="row justify-content-center"><div class=col-lg-8><div class=content><h1 id=the-problem>The Problem</h1><p>I was wondering how to quantitatively represent the capacity of an VAE’s latent variable (or a reconstruction step of a diffusion model) in bits, making it comparable to other distributions, such as the data distribution?</p><h1 id=book-on-a-rod>Book on a Rod</h1><p>Then, a paradox I saw like 8 years ago came to my mind:</p><blockquote><p>“Theoretically, you can store all information of a book on a rod. To do that, encode the book’s content into a decimal string, put it behind <code>0.</code> , and mark at the position of that number fraction of the rod’s length.”</p></blockquote><p>What prohibits one to do that in reality is the noise occurs when inscribing and measuring the mark. So, in reality, it would be more like “You can store at most 50*x bits on a rod of x meters, with one mark on it.”</p><h1 id=back-to-the-latent-variable>Back to the Latent Variable</h1><p>That paradox is a down-to-earth version of the following:</p><blockquote><p>“The Shannon entropy of a non-singular continuous distribution (such as Gaussian) is infinity. Therefore, the latent varible have infinity capacity.</p></blockquote><p>That means, with Shannon entropy as the measure, the capacity of a VAE’s latent variable is larger than all categorical data distribution, even the latent space is only one dimensional.</p><p>Yes, we have differential entropy, which provides a convergent measure of entropy of continuous distributions. But it is not robust to scaling, and we can’t really say “the distribution has 10 bits of differential entropy”.</p><p>After days of thinking, I believe that what’s missing is some noise when we access the latent variable. The noise prevents an encoded code (the mark) to occupy infinitely small distinct subset of the latent space (the rod). With an additive Gaussian noise, we can yield a nice answer to the original problem:</p><hr><p>Given a $d$-dimensional latent variable $Z\sim\mathcal{N}(0,,s^{2}I),$ and a additive Gaussian noise when accessing the latent variable $N\sim\mathcal{N}(0,t^{2}I)$, the capacity of the latent variable becomes $I(Z,Z+N)=\frac{1}{2}d\log({1+\frac{s^2}{t^2}})$.</p><hr><p>This measure is robust to scaling as $s$ and $t$ scale together. It can be measured in bits.</p><p>The modified VAE now looks like a noisy channel, and the equation looks like the equation in <a href=https://en.wikipedia.org/wiki/Shannon%E2%80%93Hartley_theorem>Shannon–Hartley theorem</a>.</p></div><div class="tags my-3"><a class="badge badge-pill badge-light border mr-2" href=/tags/informationtheory><i class="fas fa-tag mr-2"></i>InformationTheory</a></div><ul class="share nav my-3 justify-content-end"><li class=nav-item><a class=nav-link target=_blank href="https://twitter.com/intent/tweet?url=https%3a%2f%2feri24816.github.io%2fposts%2fbook-on-a-rod%2f&text=Book%20on%20a%20Rod"><i class="fa-fw fab fa-twitter"></i></a></li><li class=nav-item><a class=nav-link target=_blank href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2feri24816.github.io%2fposts%2fbook-on-a-rod%2f&title=Book%20on%20a%20Rod"><i class="fa-fw fab fa-linkedin-in"></i></a></li><li class=nav-item><a class=nav-link target=_blank href="https://www.facebook.com/sharer.php?u=https%3a%2f%2feri24816.github.io%2fposts%2fbook-on-a-rod%2f&t=Book%20on%20a%20Rod"><i class="fa-fw fab fa-facebook-f"></i></a></li><li class=nav-item><a class=nav-link target=_blank href="https://reddit.com/submit?url=https%3a%2f%2feri24816.github.io%2fposts%2fbook-on-a-rod%2f&title=Book%20on%20a%20Rod"><i class="fa-fw fab fa-reddit-alien"></i></a></li></nav></div></div><div class="row justify-content-center"><div class=col-lg-8></div></div></article></div></div></main><footer class="footer text-center bg-dark py-6"><div class=container><div class=row><div class=col><ul class=list-inline></ul><p class=text-muted>Copyright &copy; eri24816's blog 2024</p><p class=text-muted>Powered by <a href=https://gohugo.io target=_blank>Hugo</a> with <a href=https://github.com/puresyntax71/hugo-theme-chunky-poster target=_blank>Chunky Poster</a>.</p></div></div></div></footer><script src=/dist/main.d608eadfe5ac0688902e.min.js></script><script src=/js/custom.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-WKQTFGNJW6"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-WKQTFGNJW6',{anonymize_ip:!1})}</script></body></html>